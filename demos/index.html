<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../src/lib/infusion/src/lib/normalize/css/normalize.css" />
        <link rel="stylesheet" type="text/css" href="../src/lib/infusion/src/framework/core/css/fluid.css" />

        <script src="../src/lib/infusion/infusion-custom.js"></script>

         <script src="../src/lib/d3/d3.js"></script>

         <script src="../src/lib/chartAuthoring/src/js/d3Utils.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/d3ViewComponent.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/svgDrawingArea.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/templateInjection.js"></script>

         <script src="../src/lib/chartAuthoring/src/js/valueBinding.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/percentage.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/transformations.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/totalRelaying.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/axis.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/xAxisTimeSeries.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/yAxis.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/lineChartTimeSeriesLine.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/lineChartTimeSeriesArea.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/lineChartTimeSeriesPoints.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/lineChartTimeSeriesMultiDataSet.js"></script>
         <script src="../src/lib/chartAuthoring/src/js/lineChartTimeSeriesSingleDataSet.js"></script>

         <script src="../src/js/commitsSummaryPanel.js"></script>
         <script src="../src/js/contributorsSummaryPanel.js"></script>
         <script src="../src/js/jsonp.js"></script>

         <script src="../src/js/baseMetricsPanel.js"></script>
         <script src="../src/js/commitsMetricsPanel.js"></script>
         <script src="../src/js/contributorsMetricsPanel.js"></script>

         <script src="../src/js/createPanels.js"></script>

        <script src="src/js/qi-frontend-demo.js"></script>
        <link rel="stylesheet" type="text/css" href="src/css/qi-frontend-demo.css" />

        <title>QI Frontend Demo</title>
    </head>

    <body>

        <script>
            var params={};window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(str,key,value){params[key] = value;});
            var repoFromURL = params.repo;

            var heading = document.createElement('h1');
            heading.innerHTML = repoFromURL;
            document.write(heading.outerHTML);

            var demoPanelsConfig = {
                qualityInfrastructureHost: "http://localhost:3000",
                apiVersion: "a",
                repo: repoFromURL,
                commitsContainer: ".gpiic-metrics-commits",
                contributorsContainer: ".gpiic-metrics-contributors"
            }

            $(document).ready(function () {
                var panels = gpii.qualityInfrastructure.frontEnd.createPanels(demoPanelsConfig);

                // Uncomment this to enable the animation
                // gpii.qualityInfrastructure.frontEnd.demo.animate(panels.commitsPanel, panels.contributorsPanel);

            });

        </script>

        <div class="gpiic-metrics-commits gpii-panel"></div>

        <div class="gpiic-metrics-contributors gpii-panel"></div>
    </body>
</html>
